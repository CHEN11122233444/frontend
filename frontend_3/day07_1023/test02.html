<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../styles/reset.css">
    <style>
        #details{
            width: 200px;
            display: block;
        }

        #detail-list{
            width: 200px;
            display: none;
        }

        #detail-list option:hover{  
            background-color: red;
        }

    </style>
</head>
<body>
    <input type="text" id="details" list="detail-list">

    <select id="detail-list" size="4">
        <option value="서울">서울</option>
        <option value="대구">대구</option>
        <option value="부산">부산</option>
        <option value="인천">인천</option>
        <option value="제주">제주</option>
        <option value="대전">대전</option>
        <option value="울산">울산</option>
    </select>

    <script>
        const details=document.querySelector('#details');
        // details.addEventListener('input',(event)=>{
        //     console.log(event.target.value);
        // })

        let listIndex=-1;
        let currentActive='';
        let options=document.querySelectorAll('#detail-list option');
        let detailList=document.querySelector('#detail-list');
        

        details.addEventListener('keyup',()=>{
            // console.log(details.value);
            if(currentActive){
                currentActive.style.background='transparent';
            }

            if(event.keyCode==38){ 
                // event.key=='ArrowUp'   
                listIndex--;

                if(listIndex<0) listIndex=options.length - 1;
                options[listIndex].style.background='red';
                currentActive=options[listIndex];
            }
            if(event.keyCode==40){
                // event.key=='ArrowDown'
                listIndex++;
                if(listIndex>=options.length) listIndex=0;
                options[listIndex].style.background='red';
                currentActive=options[listIndex];
            }

            if(event.keyCode==13){
                // event.key=='Enter'
                options[listIndex].style.background='red';
                details.value=options[listIndex].value;
                detailList.style.display='none';
            }

            console.log(detailList.scrollTop*10);
            detailList.scrollTop=listIndex*10;
        });

        details.addEventListener('focus',()=>{
            detailList.style.display='block';
        });
        details.addEventListener('blur',()=>{
            detailList.style.display='none';
        });
        
        // options.forEach(option=>{
        //     option.addEventListener('click',()=>{
        //         console.log(option.value);
        //         details.value=option.value;
        //     });
        // })

        // select 버튼클릭시 value 확인
        detailList.addEventListener('click',(event)=>{
            console.log(event.target.value);
        })
    </script>
    <!-- 
        data-list
        selecy
        => div 바꿔서 다시 실행
     -->
</body>
</html>